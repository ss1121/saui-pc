//tabs Menus
listTabsCfg = {
  $showAni: false
  $activeClass: '.active'
  $bg: #fff
  $height: 40px
  $itemPadding: 0 10px
  $color: #666
  $activeColor: #000
  $activeFw: bold
  $isPadding: true
  $itemLine: 1px solid $color-line
  $activeType: 'line'       //line单线条样式， card卡片化样式  tab选项卡样式  lr左右结构带有footer或header
  //line时，下面的参数才生效
  $activeLine: 2px
  $activebg: #000
  $activeBr: 3px
  //lr时，下面的参数才生效
  $listMl: 40px
  $listMW: 55vw
  $listBtnsWidth: 24px
  // $itemMg: 40px
}
//tabs内容
boxTabCfg = {
  $boxBg: #fff
  $boxPadding: 20px 10px
}
//下线画
brLineAniCfg =  {
  $activeClass: '.active'
  $lineHei: 2px
  $lineBot: 0
  $lineColor: $color-hover
  $lineWid: 100%
}

ss-border-ani($class = '.item', $config = false)
  cfg = merge({}, brLineAniCfg, $config)
  {$class}
    position: relative
    // overflow: hidden
    &:after
      content: ''
      position: absolute
      bottom: cfg.$lineBot
      height: cfg.$lineHei
      border-radius: (@height / 2)
      width: cfg.$lineWid
      transform: translateX(@width);
      transition: transform .5s
  {cfg.$activeClass}
    &:after
      left: 0
      transform: translateX(0);
      background: cfg.$lineColor
    ~.item
      &:after
        left: -(cfg.$lineWid)
        transform: translateX(@left)

ss-like-tabs($class = '.hlist', $config = {})
  cfg = merge({}, listTabsCfg, $config)
  {$class}
    color: cfg.$color
    background: cfg.$bg
    if (cfg.$activeType == 'tab' || cfg.$activeType == 'card')     //选项卡样式
      border: cfg.$itemLine
      border-bottom: none
      border-radius: $br
      margin-bottom: -1px;
      .item
        border-bottom: cfg.$itemLine
      {cfg.$activeClass}
        border-bottom-color: #fff
    if (cfg.$activeType == 'card')
      .item
        border-left: 1px solid transparent
        border-right: @border-left
        &:first-child
          border-left: none
      {cfg.$activeClass}
        border-left-color: $color-line
        border-right-color: @border-left-color
    if (cfg.$activeType == 'tab')     //选项卡样式
      display: inline-flex
      .item
        border-left: cfg.$itemLine
        &:first-child
          border-left: none
    else 
      ss-display-flex(row nowrap, flex-start, center)
    //带footer结构
    if (cfg.$activeType == 'lr')
      justify-content: space-between
      margin-left: cfg.$listMl
      max-width: cfg.$listMW
      overflow: hidden
      >.hlist
        @extends $flex-nowrap-start-center
        position: relative
        z-index: 1
        width: "calc(100% - %s)" % cfg.$listBtnsWidth
        overflow: hidden
        >.item
          // margin-right: cfg.itemMg
          position: relative
          cursor: pointer
          white-space: nowrap;
          &:hover
            .item-icon
              display: inline-block
              color: cfg.$activeColor
              &:hover
                color: $color-aux-fail
        .item-icon
          display: none
          position: absolute
          right: -12px
          color: @color
          cursor: pointer
          
      .item-btns
        background: #fff;
        box-shadow: 0px 0px 6px 12px #fff;
        width: cfg.$listBtnsWidth;
        flex: 0 0 auto
        position: relative;
        z-index: 2;

    a
      color: @color
    .item
      cursor: pointer
      height: cfg.$height
      line-height: @height
      text-align: center
      if (cfg.$isPadding == true)
        padding: cfg.$itemPadding
      else 
        margin: cfg.$itemPadding
        &:first-child     //适用只有一行的时候，如果是多行的话，需要再添加个判断
          margin-left: 0
      &.disabled
        cursor: not-allowed
        color: cfg.$itemLine
        
    {cfg.$activeClass}, .item:hover
      background: #fff
      color: cfg.$activeColor
      font-weight: cfg.$activeFw if cfg.$activeFw
      a
        color: @color
    if (cfg.$activeType == 'line' || cfg.$showAni)
      ss-border-ani($config: cfg.$likeTabsAniCfg)
      

// $menusScroll treeFooter 或 treeHeader存在时

ss-tabs($class = '.tabsGroup', $menusCfg = false, $boxCfg = false, $menusScroll = false, $width = 500px, $oldMenusScroll = false)
  cfg = merge({}, listTabsCfg, $menusCfg)
  cfgBox = merge({}, boxTabCfg, $boxCfg)
  .itemrootCkb
    display: none
  {$class}
    width: $width
    >.tabsMenus
      ss-like-tabs($config: cfg)
      if (cfg.$activeType == 'line')
        border-bottom: cfg.$itemLine
        // margin: 0 cfgBox.$boxPadding
      if ($menusScroll != false)
        ss-display-flex(row nowrap, space-between, center)
        .hlist
          flex-flow: row wrap
          position: relative
        ss-tabs-btnx()
      if ($oldMenusScroll == true)
        .list-wrap
          ss-display-flex(row nowrap, space-between, center)
        .hlist
          flex-flow: row wrap
          position: relative
    >.tabsBoxes
      background: cfgBox.$boxBg
      padding: cfgBox.$boxPadding
      if (cfg.$activeType == 'tab' || cfg.$activeType == 'card')
        border: cfg.$itemLine
      // else 
      //   padding: cfgBox.$boxPadding
      
ss-tabs-btnx()
  .list-wrap
    flex: 1
    overflow: hidden
  .tabs-btn-cut
    ss-display-flex(row nowrap, flex-start, center)
    border: 1px solid $color-line
    margin-left: 6px
    if ($height)
      height: 34px
    else 
      flex-grow: 1
    .ss-item 
      border-left: @border
      box-sizing: border-box
      color: $color
      width: 32px
      text-align: center
      &:first-child
        border-left: none
      &.disabled
        color: $color-line-secondary
        cursor: not-allowed